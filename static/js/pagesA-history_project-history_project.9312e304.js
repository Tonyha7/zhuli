(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pagesA-history_project-history_project"],{"047f":function(t,e,n){"use strict";n.r(e);var i=n("f61a"),a=n("7297");for(var o in a)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(o);n("57dc");var r=n("f0c5"),c=Object(r["a"])(a["default"],i["b"],i["c"],!1,null,"07a6a5da",null,!1,i["a"],void 0);e["default"]=c.exports},"3dff":function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,"\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/* 无任何数据的空布局 */.mescroll-empty[data-v-d9aa3fda]{box-sizing:border-box;width:100%;padding:%?100?% %?50?%;text-align:center}.mescroll-empty.empty-fixed[data-v-d9aa3fda]{z-index:99;position:absolute; /*transform会使fixed失效,最终会降级为absolute */top:%?100?%;left:0}.mescroll-empty .empty-icon[data-v-d9aa3fda]{width:%?280?%;height:%?280?%}.mescroll-empty .empty-tip[data-v-d9aa3fda]{margin-top:%?20?%;font-size:%?24?%;color:grey}.mescroll-empty .empty-btn[data-v-d9aa3fda]{display:inline-block;margin-top:%?40?%;min-width:%?200?%;padding:%?18?%;font-size:%?28?%;border:%?1?% solid #32b1fe;border-radius:%?60?%;color:#32b1fe}.mescroll-empty .empty-btn[data-v-d9aa3fda]:active{opacity:.75}",""]),t.exports=e},"52f5":function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,".cu-bar .search-form[data-v-07a6a5da]{background-color:#fff;border:1px solid #d6dae6}.action-icon[data-v-07a6a5da]{color:#d6dae6}.project-item-container[data-v-07a6a5da]{margin:%?40?%;border-bottom:1px dashed #d6dae6;position:relative;padding-right:%?40?%}.project-item-container>.name[data-v-07a6a5da]{margin:%?20?% 0;font-size:%?35?%;font-family:PingFang SC;font-weight:500;color:#333}.project-item-container>.content[data-v-07a6a5da]{display:flex;align-items:center;justify-content:space-between;padding-bottom:%?20?%;min-height:%?60?%}.project-item-container>.content>.desc-item[data-v-07a6a5da]{color:#9096a8;flex:1}.action-area[data-v-07a6a5da]{position:absolute;display:inline-block;top:25%;right:0}.action-area>uni-image[data-v-07a6a5da]{height:%?40?%;width:%?40?%}",""]),t.exports=e},5350:function(t,e,n){"use strict";n("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={down:{offset:80,native:!1},up:{offset:150,toTop:{src:"https://www.mescroll.com/img/mescroll-totop.png",offset:1e3,right:20,bottom:120,width:72},empty:{use:!0,icon:"https://www.mescroll.com/img/mescroll-empty.png"}},i18n:{zh:{down:{textInOffset:"下拉刷新",textOutOffset:"释放更新",textLoading:"加载中 ...",textSuccess:"加载成功",textErr:"加载失败"},up:{textLoading:"加载中 ...",textNoMore:"-- END --",empty:{tip:"~ 空空如也 ~"}}},en:{down:{textInOffset:"drop down refresh",textOutOffset:"release updates",textLoading:"loading ...",textSuccess:"loaded successfully",textErr:"loading failed"},up:{textLoading:"loading ...",textNoMore:"-- END --",empty:{tip:"~ absolutely empty ~"}}}}};e.default=i},"57dc":function(t,e,n){"use strict";var i=n("dce2"),a=n.n(i);a.a},"5a1b":function(t,e,n){"use strict";n.r(e);var i=n("8abc"),a=n("fa40");for(var o in a)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(o);n("adab");var r=n("f0c5"),c=Object(r["a"])(a["default"],i["b"],i["c"],!1,null,"d9aa3fda",null,!1,i["a"],void 0);e["default"]=c.exports},7297:function(t,e,n){"use strict";n.r(e);var i=n("7c89"),a=n.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=a.a},"7c89":function(t,e,n){"use strict";(function(t){n("7a82");var i=n("ee27").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("99af"),n("4de4"),n("d3b7"),n("c975");var a=i(n("6972")),o=[],r={components:{},data:function(){return{userdata:this.$store.state.user,project:this.$store.state.project,querytext:"",queryFinished:!1,projectList:[]}},computed:{ContentViewStyle:function(){return"height:calc(100% - ".concat(this.CustomBar,"px - ").concat(uni.upx2px(100),"px);position:fixed;background-color:#ffffff;overflow-y: scroll;")}},watch:{querytext:function(e){t.log("-------------"+e),a.default.isNullOrEmpty(e)?this.projectList=o:this.projectList=o.filter((function(t){return t.project_name.indexOf(e)>-1}))}},onLoad:function(){this.GetAllProjectLsit()},methods:{GetAllProjectLsit:function(){var e=this;a.default.showloading("项目查询中..."),a.default.sendauthget(a.default.DOMAIN_AUTH_SERVER_ADDR+"webapi/"+a.default.API_PATH.QueryUserHistoryProject,{phone:this.userdata.phone||this.userdata.detailinfo.phone,querytext:this.querytext}).then((function(n){uni.hideLoading(),t.log(n),e.projectList=o=n})).catch((function(t){uni.hideLoading(),a.default.showalert("查询项目失败",t)})).finally((function(){e.queryFinished=!0}))},ChangeProject:function(e){if(e!=this.project.server_appid){var n={project_id:e,phone:this.userdata.phone||this.userdata.detailinfo.phone,oauth_type:a.default.getplatformtype()},i=this;t.log(n),a.default.showloading("项目切换中..."),a.default.sendauthget(a.default.DOMAIN_AUTH_SERVER_ADDR+"webapi/"+a.default.API_PATH.UserChangeProject,n).then((function(e){var n={};uni.hideLoading(),t.log("------willsetproject--------",n),i.project=n,i.$store.commit("SetProjectData",n),i.$store.commit("SetAllRequestFlagDefault"),uni.reLaunch({url:"/pages/index/index"})})).catch((function(t){uni.hideLoading(),a.default.showalert("提示",t)}))}}}};e.default=r}).call(this,n("5a52")["default"])},"8abc":function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"mescroll-empty",class:{"empty-fixed":t.option.fixed},style:{"z-index":t.option.zIndex,top:t.option.top}},[n("v-uni-view",[t.icon?n("v-uni-image",{staticClass:"empty-icon",attrs:{src:t.icon,mode:"widthFix"}}):t._e()],1),t.tip?n("v-uni-view",{staticClass:"empty-tip"},[t._v(t._s(t.tip))]):t._e(),t.btnText?n("v-uni-view",{staticClass:"empty-btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.emptyClick.apply(void 0,arguments)}}},[t._v(t._s(t.btnText))]):t._e()],1)},a=[]},"8ba7":function(t,e,n){"use strict";n("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={def:"zh",getType:function(){return uni.getStorageSync("mescroll-i18n")||this.def},setType:function(t){uni.setStorageSync("mescroll-i18n",t)}},a=i;e.default=a},9732:function(t,e,n){"use strict";n("7a82");var i=n("ee27").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=i(n("5350")),o=i(n("8ba7")),r={props:{option:{type:Object,default:function(){return{}}}},computed:{icon:function(){if(null!=this.option.icon)return this.option.icon;var t=o.default.getType();return this.option.i18n?this.option.i18n[t].icon:a.default.i18n[t].up.empty.icon||a.default.up.empty.icon},tip:function(){if(null!=this.option.tip)return this.option.tip;var t=o.default.getType();return this.option.i18n?this.option.i18n[t].tip:a.default.i18n[t].up.empty.tip||a.default.up.empty.tip},btnText:function(){if(this.option.i18n){var t=o.default.getType();return this.option.i18n[t].btnText}return this.option.btnText}},methods:{emptyClick:function(){this.$emit("emptyclick")}}};e.default=r},"988d":function(t,e,n){var i=n("3dff");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("5ec8b5c7",i,!0,{sourceMap:!1,shadowMode:!1})},adab:function(t,e,n){"use strict";var i=n("988d"),a=n.n(i);a.a},dce2:function(t,e,n){var i=n("52f5");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("6e84a34e",i,!0,{sourceMap:!1,shadowMode:!1})},f61a:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return i}));var i={mescrollEmpty:n("5a1b").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticStyle:{height:"100%","background-color":"#f7f7f7"}},[n("cu-custom",{attrs:{bgColor:"titleview",isBack:!0},on:{viewclick:function(e){arguments[0]=e=t.$handleEvent(e),t.showhideprojects()}}},[n("template",{attrs:{slot:"content"},slot:"content"},[t._v("历史项目")])],2),n("v-uni-view",{staticClass:"cu-bar search bg-white"},[n("v-uni-view",{staticClass:"search-form round",staticStyle:{margin:"0 40upx"}},[n("v-uni-text",{staticClass:"cuIcon-search",staticStyle:{"font-size":"40upx"}}),n("v-uni-input",{staticStyle:{"padding-right":"0px"},attrs:{"adjust-position":!1,type:"text",placeholder:"请输入项目名称","confirm-type":"search"},model:{value:t.querytext,callback:function(e){t.querytext=e},expression:"querytext"}}),t.querytext?n("v-uni-text",{staticClass:"cuIcon-roundclosefill action-icon",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.querytext=""}}}):t._e()],1)],1),n("v-uni-view",{staticStyle:{height:"100%",width:"100%"},style:t.ContentViewStyle},[t._l(t.projectList,(function(e){return n("v-uni-view",{staticClass:"project-item-container",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.ChangeProject(e.project_id)}}},[n("v-uni-view",{staticClass:"name"},[t._v(t._s(e.project_name))]),n("v-uni-view",{staticClass:"content"},[void 0!=e.balance?n("v-uni-view",{staticClass:"desc-item"},[t._v("余额:"+t._s(Number(e.balance).toFixed(2))+"元")]):t._e(),void 0!=e.cash_coupon_count?n("v-uni-view",{staticClass:"desc-item"},[t._v("优惠券:"+t._s(e.cash_coupon_count)+"张")]):t._e()],1),t.project.server_appid==e.project_id?n("v-uni-view",{staticClass:"action-area"},[n("v-uni-image",{attrs:{src:"/static/selected.png",mode:"aspectFit"}})],1):t._e()],1)})),0==t.projectList.length&&t.queryFinished?n("v-uni-view",{staticStyle:{width:"100%",height:"100%",overflow:"hidden"}},[n("mescroll-empty",{attrs:{option:{tip:"还没有历史项目噢~"}}})],1):t._e()],2)],1)},o=[]},fa40:function(t,e,n){"use strict";n.r(e);var i=n("9732"),a=n.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=a.a}}]);