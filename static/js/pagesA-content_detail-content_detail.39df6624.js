(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pagesA-content_detail-content_detail"],{"12fa":function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,".page-container[data-v-df4a734e]{overflow-y:scroll}.cubar-view[data-v-df4a734e]{background-color:#fff;color:#000}.top-container[data-v-df4a734e]{padding:%?13?% %?10?% %?20?% %?10?%}.detail-title-view[data-v-df4a734e]{font-size:%?36?%;font-family:PingFang SC;font-weight:700;color:#212121;line-height:%?45?%;padding:%?40?% %?20?% 0 %?20?%}.detail-desc-view[data-v-df4a734e]{display:flex;align-items:center;padding:%?0?% %?20?%}.detail-desc-view>.label-type[data-v-df4a734e]{font-size:%?22?%;border-radius:4px;border:1px solid #32b1fe;color:#32b1fe;margin:%?10?% %?40?% %?10?% 0;padding:%?8?% %?15?%}.detail-desc-view>.detail-time[data-v-df4a734e]{color:#bec4cc;font-size:%?22?%;font-family:PingFang SC;font-weight:500;line-height:52px}.recommend-container-view[data-v-df4a734e]{display:flex;flex-direction:row;flex-wrap:wrap}.recommend-item[data-v-df4a734e]{width:calc(100% / 3 - %?20?%);margin:%?10?%;height:%?240?%}.recommend-item>.recommend-item-face[data-v-df4a734e]{width:100%;height:%?150?%}.recommend-item>.recommend-item-face uni-image[data-v-df4a734e]{width:100%;height:100%;border-radius:%?10?%}.recommend-item>.recommend-item-title[data-v-df4a734e]{font-size:%?24?%;font-family:PingFang SC;font-weight:500;color:#212121;line-height:%?35?%;margin-top:%?21?%;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;overflow:hidden}.html-container[data-v-df4a734e]{padding:0 %?20?%}.content-container[data-v-df4a734e]{font-size:%?30?%;font-family:PingFang SC;font-weight:500;color:#606265;line-height:%?50?%;padding:0 %?20?% %?20?% %?20?%\n\t/* min-height: 750upx; */}.action-bottom-view[data-v-df4a734e]{display:flex;width:100%;justify-content:center;margin:%?56?% 0 %?20?% 0}.action-bottom-view>.action-item[data-v-df4a734e]{display:inline-flex;border:1px solid #b6bcc3;border-radius:24px;color:#b6bcc3;padding:%?5?% %?30?%}.action-bottom-view>.action-item>.action-text[data-v-df4a734e]{font-size:%?24?%;font-family:PingFang SC;font-weight:500;line-height:%?40?%}.action-bottom-view>.action-item-active[data-v-df4a734e]{color:#32b1fe!important}.action-bottom-view>.action-item-active>.action-text[data-v-df4a734e]{font-size:%?24?%;font-family:PingFang SC;font-weight:500;line-height:%?40?%}.container-view-title[data-v-df4a734e]{font-size:%?30?%;font-family:PingFang SC;font-weight:700;color:#212121;line-height:%?52?%;padding-left:%?17?%}.botoom-recommend-container-view[data-v-df4a734e]{padding:%?20?% %?10?% %?0?% %?10?%}.content-list-container-view>.list-item[data-v-df4a734e]{display:flex;align-items:center;margin-bottom:%?20?%}.list-item>.left-container[data-v-df4a734e]{margin-left:%?16?%}.list-item>.left-container uni-image[data-v-df4a734e]{width:%?168?%;height:%?112?%;border-radius:%?8?%}.list-item>.right-container[data-v-df4a734e]{width:100%;margin:0 %?30?% 0 %?23?%}.list-item>.right-container>.title[data-v-df4a734e]{font-size:%?28?%;font-family:PingFang SC;font-weight:500;color:#212121}.list-item>.right-container>.desc[data-v-df4a734e]{display:flex;align-items:center}.list-item>.right-container>.desc>.desc-item[data-v-df4a734e]{display:flex;align-items:center}.list-item>.right-container>.desc>.desc-item uni-image[data-v-df4a734e]{width:%?30?%;height:%?30?%;margin:0 %?10?%}.list-item>.right-container>.desc>.desc-item>.desc-text[data-v-df4a734e]{font-size:%?20?%;font-family:PingFang SC;font-weight:500;color:#b6bcc3;line-height:%?36?%}",""]),t.exports=e},"5c0b":function(t,e,i){"use strict";i.r(e);var a=i("96a7"),n=i("f938");for(var o in n)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(o);i("a3bb");var c=i("f0c5"),s=Object(c["a"])(n["default"],a["b"],a["c"],!1,null,"df4a734e",null,!1,a["a"],void 0);e["default"]=s.exports},"933a":function(t,e,i){var a=i("12fa");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("73aa8971",a,!0,{sourceMap:!1,shadowMode:!1})},"96a7":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return a}));var a={mpHtml:i("b035").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticStyle:{height:"100%"}},[i("cu-custom",{attrs:{bgColor:"titleview",isBack:!0}},[i("template",{attrs:{slot:"content"},slot:"content"},[t._v("详情")])],2),i("v-uni-view",{staticClass:"page-container",style:t.containerstyle},[i("v-uni-view",{staticClass:"top-container"},[i("v-uni-view",{staticClass:"detail-title-view"},[t._v(t._s(t.detailinfo.title))]),i("v-uni-view",{staticClass:"detail-desc-view"},[i("v-uni-view",{staticClass:"label-type"},[t._v(t._s(t.detailinfo.label[0]))]),i("v-uni-view",{staticClass:"detail-time"},[t._v(t._s(t.detailinfo.created_time))])],1)],1),i("v-uni-view",{staticClass:"html-container"},[i("mp-html",{attrs:{content:t.htmlStr,selectable:!0}})],1),i("v-uni-view",{staticClass:"action-bottom-view"},[i("v-uni-view",{class:["action-item",{"action-item-active":t.IsAppreciated}],staticStyle:{"margin-right":"100upx"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.AppreciatedContent()}}},[i("v-uni-view",{staticClass:"action-icon"},[i("v-uni-text",{staticClass:"cuIcon-appreciate"})],1),i("v-uni-view",{staticClass:"action-text"},[t.IsAppreciated?i("v-uni-text",[t._v("已")]):t._e(),t._v("点赞")],1)],1),i("v-uni-view",{class:["action-item",{"action-item-active":t.IsCollected}],on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.CollectContent()}}},[i("v-uni-view",{staticClass:"action-icon"},[i("v-uni-text",{staticClass:"cuIcon-favorfill"})],1),i("v-uni-view",{staticClass:"action-text"},[t.IsCollected?i("v-uni-text",[t._v("已")]):t._e(),t._v("收藏")],1)],1)],1),i("v-uni-view",{staticClass:"bottom-container"},[i("v-uni-view",{staticClass:"container-view-title"},[t._v("系列相关")]),i("v-uni-view",{staticClass:"botoom-recommend-container-view recommend-container-view"},t._l(t.RecommendList,(function(e){return i("v-uni-view",{staticClass:"recommend-item",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.RecommendItemClick(e)}}},[i("v-uni-view",{staticClass:"recommend-item-face"},[i("v-uni-image",{attrs:{mode:"scaleToFill",src:e.image_url}})],1),i("v-uni-view",{staticClass:"recommend-item-title"},[t._v(t._s(e.title))])],1)})),1)],1)],1)],1)},o=[]},a3bb:function(t,e,i){"use strict";var a=i("933a"),n=i.n(a);n.a},e190:function(t,e,i){"use strict";(function(t){i("7a82");var a=i("ee27").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("f07e")),o=a(i("c964"));i("c975"),i("d3b7"),i("99af"),i("159b"),i("14d9"),i("e9c4");var c=a(i("6972")),s={components:{},data:function(){return{userdata:this.$store.state.user,project:this.$store.state.project,detailinfo:{},RecommendList:[],WebViewContentHeight:"",StartReadTime:"",htmlStr:"",IsAppreciated:!1}},computed:{containerstyle:function(){var t="height:calc(100% - ".concat(this.$store.state.SystemInfo.CustomBar,"px)");return t},IsCollected:function(){var t=!1;return c.default.isNullOrEmpty(this.project.CollectionedContentId)||-1==this.project.CollectionedContentId.indexOf(this.detailinfo.id)||(t=!0),t}},onLoad:function(t){this.StartReadTime=(new Date).getTime(),this.detailinfo=JSON.parse(decodeURIComponent(t.Content)),this.RequestHtmlDataStr(this.detailinfo.detail_url),this.QuerySameLabelContentList()},onUnload:function(){var t=(new Date).getTime()-this.StartReadTime;this.FlagReadContent(c.default.MillisecondToDate(t/1e3))},methods:{CalcContainerHeight:function(){var t=this;return(0,o.default)((0,n.default)().mark((function e(){var i,a,o;return(0,n.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c.default.CalcDomHeight(".top-container",t);case 2:return i=e.sent,e.next=5,c.default.CalcDomHeight(".action-bottom-view",t);case 5:return a=e.sent,e.next=8,c.default.CalcDomHeight(".bottom-container",t);case 8:o=e.sent,t.WebViewContentHeight=t.Systeminfo.screenHeight-t.CustomBar-i-a-o-uni.upx2px(76),t.InitContentWebview();case 11:case"end":return e.stop()}}),e)})))()},InitContentWebview:function(){var e=this;return(0,o.default)((0,n.default)().mark((function i(){return(0,n.default)().wrap((function(i){while(1)switch(i.prev=i.next){case 0:t.log(e.WebViewContentHeight);case 1:case"end":return i.stop()}}),i)})))()},FlagReadContent:function(e){c.default.sendapppost(this.project.server_addr+c.default.API_PATH.DiscoverContentClick,{id:this.detailinfo.id,userinfo:{staff_name:this.userdata.detailinfo.name,staff_phone:this.userdata.detailinfo.phone,staff_sex:this.userdata.detailinfo.sex,staff_project:this.project.projectname},readinfo:{read_time:e}}).then((function(t){})).catch((function(e){t.log(e)}))},QuerySameLabelContentList:function(){var e=this;c.default.sendapppost(this.project.server_addr+c.default.API_PATH.ListDiscoverContent,{page_index:1,page_size:3,category:this.detailinfo.category,except_id:this.detailinfo.id}).then((function(t){e.RecommendList=t.data})).catch((function(e){t.log(e)})).finally((function(){}))},RecommendItemClick:function(t){var e=(new Date).getTime()-this.StartReadTime;this.FlagReadContent(c.default.MillisecondToDate(e/1e3)),this.StartReadTime=(new Date).getTime(),this.detailinfo=t,this.RequestHtmlDataStr(this.detailinfo.detail_url),uni.pageScrollTo({scrollTop:0,duration:300})},RequestHtmlDataStr:function(e){var i=this;t.log(e),this.IsAppreciated=uni.getStorageSync("discover_content_appreciate_"+this.detailinfo.id),uni.request({url:"".concat(e,"?timespan=").concat((new Date).getTime()),header:{"content-type":"text/html"},dataType:"text",success:function(t){i.htmlStr=t.data},fail:function(e){t.log(e)}})},AppreciatedContent:function(){var t=!0;this.IsAppreciated&&(t=!1),uni.setStorageSync("discover_content_appreciate_"+this.detailinfo.id,t),this.IsAppreciated=t},CollectContent:function(){var t=this;c.default.sendapppost(this.project.server_addr+c.default.API_PATH.SaveStaffCollectDiscovercontent,{content_id:this.detailinfo.id}).then((function(e){var i=[];e.forEach((function(t){i.push(t.content_id)}));var a=JSON.parse(JSON.stringify(t.$store.state.project));a.CollectionedContentId=i,t.project=a,t.$store.commit("SetProjectData",a)})).catch((function(t){})).finally((function(){}))}}};e.default=s}).call(this,i("5a52")["default"])},f938:function(t,e,i){"use strict";i.r(e);var a=i("e190"),n=i.n(a);for(var o in a)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(o);e["default"]=n.a}}]);